# Q&A Logging Configuration
# claude-symphony ë¬¸ë‹µ ìë™ ê¸°ë¡ ê·œì¹™ (Q7 í•´ê²°)

qa_logging:
  # í™œì„±í™” ì—¬ë¶€
  enabled: true

  # ê¸°ë¡ ëŒ€ìƒ íŒŒì¼
  target_file: "feedback.md"

  # ë°±ì—… ìœ„ì¹˜
  backup_dir: "state/qa_backups/"

# ê¸°ë¡ íŠ¸ë¦¬ê±°
triggers:
  # ìë™ íŠ¸ë¦¬ê±°
  automatic:
    - event: "stage_complete"
      description: "ìŠ¤í…Œì´ì§€ ì™„ë£Œ ì‹œ"
      priority: "high"

    - event: "issue_discovered"
      description: "ìƒˆë¡œìš´ ì´ìŠˆ ë°œê²¬ ì‹œ"
      priority: "high"

    - event: "process_change_request"
      description: "í”„ë¡œì„¸ìŠ¤ ë³€ê²½ ìš”ì²­ ì‹œ"
      priority: "medium"

    - event: "tool_failure"
      description: "ë„êµ¬ ì‹¤íŒ¨ ì‹œ"
      priority: "high"

    - event: "workaround_found"
      description: "ìš°íšŒ ë°©ë²• ë°œê²¬ ì‹œ"
      priority: "medium"

  # ìˆ˜ë™ íŠ¸ë¦¬ê±° ì»¤ë§¨ë“œ
  manual:
    command: "/log-qa"
    description: "ìˆ˜ë™ìœ¼ë¡œ ë¬¸ë‹µ ê¸°ë¡"

# ê¸°ë¡ í˜•ì‹
format:
  # ì„¹ì…˜ í—¤ë”
  section_header: "### Q{{number}}: {{title}}"

  # ê¸°ë¡ í…œí”Œë¦¿
  template: |
    ### Q{{number}}: {{title}}

    **ì§ˆë¬¸**: {{question}}

    **ë‹µë³€**: {{answer}}

    **í•´ê²° ë°©ë²•**: {{solution}}

    **í–¥í›„ ê°œì„  ì œì•ˆ**: {{suggestion}}

    **ê´€ë ¨ ìŠ¤í…Œì´ì§€**: {{stage_id}}

    **ê¸°ë¡ ì¼ì‹œ**: {{timestamp}}

    ---

  # í¬í•¨ í•­ëª©
  include:
    - question          # ì›ë³¸ ì§ˆë¬¸
    - answer            # ìš”ì•½ëœ ë‹µë³€
    - solution          # í•´ê²° ë°©ë²•
    - suggestion        # í–¥í›„ ê°œì„  ì œì•ˆ
    - stage_id          # ê´€ë ¨ ìŠ¤í…Œì´ì§€
    - timestamp         # ê¸°ë¡ ì‹œê°„
    - category          # ì¹´í…Œê³ ë¦¬

# ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜
categories:
  - name: "workflow_improvements"
    description: "ì›Œí¬í”Œë¡œìš° ê°œì„ "
    keywords: ["í”„ë¡œì„¸ìŠ¤", "ë‹¨ê³„", "ìˆœì„œ", "ìë™í™”"]

  - name: "tool_usage"
    description: "ë„êµ¬ ì‚¬ìš©ë²•"
    keywords: ["MCP", "CLI", "Notion", "Git"]

  - name: "process_changes"
    description: "í”„ë¡œì„¸ìŠ¤ ë³€ê²½"
    keywords: ["ë³€ê²½", "ìˆ˜ì •", "ì¶”ê°€", "ì‚­ì œ"]

  - name: "bug_fixes"
    description: "ë²„ê·¸ ìˆ˜ì •"
    keywords: ["ë²„ê·¸", "ì—ëŸ¬", "ì˜¤ë¥˜", "ì‹¤íŒ¨"]

  - name: "best_practices"
    description: "ëª¨ë²” ì‚¬ë¡€"
    keywords: ["ê¶Œì¥", "ì¶”ì²œ", "íŒ¨í„´", "ê·œì¹™"]

# í•„í„°ë§ ê·œì¹™
filtering:
  # í¬í•¨í•  í•­ëª©
  include:
    - "workflow_improvements"
    - "tool_usage"
    - "process_changes"
    - "bug_fixes"
    - "best_practices"

  # ì œì™¸í•  í•­ëª©
  exclude:
    - "trivial_questions"      # ì‚¬ì†Œí•œ ì§ˆë¬¸
    - "repeated_questions"     # ë°˜ë³µë˜ëŠ” ì§ˆë¬¸
    - "off_topic"              # ì£¼ì œ ì™¸ ì§ˆë¬¸

  # ì œì™¸ í‚¤ì›Œë“œ
  exclude_keywords:
    - "í…ŒìŠ¤íŠ¸"
    - "ì„ì‹œ"
    - "ë¬´ì‹œ"

# ìë™ ë²ˆí˜¸ ë§¤ê¸°ê¸°
numbering:
  # ìë™ ë²ˆí˜¸ ë¶€ì—¬
  auto_increment: true

  # ì‹œì‘ ë²ˆí˜¸ (ê¸°ì¡´ Q&A ì´í›„)
  start_from: "auto"  # feedback.mdì—ì„œ ë§ˆì§€ë§‰ ë²ˆí˜¸ ìë™ ê°ì§€

  # í˜•ì‹
  format: "Q{{number}}"

# ì¤‘ë³µ ê°ì§€
deduplication:
  # í™œì„±í™” ì—¬ë¶€
  enabled: true

  # ìœ ì‚¬ë„ ì„ê³„ê°’ (0-1)
  similarity_threshold: 0.8

  # ì¤‘ë³µ ì²˜ë¦¬
  on_duplicate: "merge"  # merge | skip | ask

# ì•Œë¦¼ ì„¤ì •
notifications:
  # ìƒˆ Q&A ê¸°ë¡ ì‹œ ì•Œë¦¼
  on_new_entry:
    enabled: true
    message: "ğŸ“ ìƒˆë¡œìš´ Q&Aê°€ feedback.mdì— ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤: Q{{number}}"

  # ì¼ì¼ ìš”ì•½
  daily_summary:
    enabled: false
    time: "18:00"

# ë‚´ë³´ë‚´ê¸° ì„¤ì •
export:
  # ì§€ì› í˜•ì‹
  formats:
    - "markdown"
    - "json"
    - "csv"

  # ìë™ ë‚´ë³´ë‚´ê¸°
  auto_export:
    enabled: false
    format: "json"
    path: "state/qa_export.json"
